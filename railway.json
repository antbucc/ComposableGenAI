{
    "project": "PromptDeck",
    "plugins": {
      "postgresql": {
        "database": "promptdeck_db"
      }
    },
    "environments": {
      "production": {
        "domains": [
          "promptdeck.example.com"
        ],
        "variables": {
          "REACT_APP_BACKEND_URL": "https://promptdeck.example.com"
        }
      }
    },
    "services": [
      {
        "name": "backend",
        "source": {
          "type": "dockerfile",
          "dockerfilePath": "backend/Dockerfile",
          "buildContext": "backend"
        },
        "env": {
          "CORS_ORIGINS": "http://localhost:3000",
          "AZURE_OPENAI_API_KEY": "${{ AZURE_OPENAI_API_KEY }}",
          "AZURE_OPENAI_ENDPOINT": "${{ AZURE_OPENAI_ENDPOINT }}",
          "MODEL_NAME": "gpt35Turbo",
          "AZURE_OPENAI_API_VERSION": "${{ AZURE_OPENAI_API_VERSION }}",
          "AZURE_OPENAI_DEPLOYMENT": "${{ AZURE_OPENAI_DEPLOYMENT }}",
          "EVAL_AZURE_OPENAI_API_KEY": "${{ EVAL_AZURE_OPENAI_API_KEY }}",
          "EVAL_AZURE_OPENAI_ENDPOINT": "${{ EVAL_AZURE_OPENAI_ENDPOINT }}",
          "EVAL_AZURE_OPENAI_API_VERSION": "${{ EVAL_AZURE_OPENAI_API_VERSION }}",
          "EVAL_AZURE_OPENAI_DEPLOYMENT": "${{ EVAL_AZURE_OPENAI_DEPLOYMENT }}",
          "MONGO_INITDB_ROOT_USERNAME": "${{ MONGO_INITDB_ROOT_USERNAME }}",
          "MONGO_INITDB_ROOT_PASSWORD": "${{ MONGO_INITDB_ROOT_PASSWORD }}",
          "MONGO_URL": "${{ MONGO_URL }}",
          "PORT": "5000"
        }
      },
      {
        "name": "frontend",
        "source": {
          "type": "buildpack",
          "buildContext": "frontend",
          "buildCommand": "npm install && npm run build",
          "startCommand": "npm start"
        },
        "env": {
          "REACT_APP_BACKEND_URL": "${{ production.variables.REACT_APP_BACKEND_URL }}",
          "PORT": "3000"
        }
      }
    ]
  }
  